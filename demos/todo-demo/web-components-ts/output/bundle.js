/*web-components-ts example, custom build: 2019-07-19 21:34:10:263, version: 1*/
(function(){"use strict";const e=this;"object"==typeof global&&global;var t;!function(t){t.global=e;class i{constructor(){this._detected=!1,this._isWindows=!1,this._isWebWorker=!1}get isWindows(){return this._detect(),this._isWindows}get isWebWorker(){return this._detect(),this._isWebWorker}_detect(){this._detected||(this._detected=!0,this._isWindows=i._isWindows(),this._isWebWorker="function"==typeof t.global.importScripts)}static _isWindows(){return!!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Windows")>=0)}}t.Environment=i}(t||(t={})),function(e){class t{constructor(e,t,i){this.type=e,this.detail=t,this.timestamp=i}}e.LoaderEvent=t;e.LoaderEventRecorder=class{constructor(e){this._events=[new t(1,"",e)]}record(i,r){this._events.push(new t(i,r,e.Utilities.getHighPerformanceTimestamp()))}getEvents(){return this._events}};class i{record(e,t){}getEvents(){return[]}}i.INSTANCE=new i,e.NullLoaderEventRecorder=i}(t||(t={})),function(e){class t{static fileUriToFilePath(e,t){if(t=decodeURI(t).replace(/%23/g,"#"),e){if(/^file:\/\/\//.test(t))return t.substr(8);if(/^file:\/\//.test(t))return t.substr(5)}else if(/^file:\/\//.test(t))return t.substr(7);return t}static startsWith(e,t){return e.length>=t.length&&e.substr(0,t.length)===t}static endsWith(e,t){return e.length>=t.length&&e.substr(e.length-t.length)===t}static containsQueryString(e){return/^[^\#]*\?/gi.test(e)}static isAbsolutePath(e){return/^((http:\/\/)|(https:\/\/)|(file:\/\/)|(\/))/.test(e)}static forEachProperty(e,t){if(e){let i;for(i in e)e.hasOwnProperty(i)&&t(i,e[i])}}static isEmpty(e){let i=!0;return t.forEachProperty(e,()=>{i=!1}),i}static recursiveClone(e){if(!e||"object"!=typeof e)return e;let i=Array.isArray(e)?[]:{};return t.forEachProperty(e,(e,r)=>{i[e]=r&&"object"==typeof r?t.recursiveClone(r):r}),i}static generateAnonymousModule(){return"===anonymous"+t.NEXT_ANONYMOUS_ID+++"==="}static isAnonymousModule(e){return t.startsWith(e,"===anonymous")}static getHighPerformanceTimestamp(){return this.PERFORMANCE_NOW_PROBED||(this.PERFORMANCE_NOW_PROBED=!0,this.HAS_PERFORMANCE_NOW=e.global.performance&&"function"==typeof e.global.performance.now),this.HAS_PERFORMANCE_NOW?e.global.performance.now():Date.now()}}t.NEXT_ANONYMOUS_ID=1,t.PERFORMANCE_NOW_PROBED=!1,t.HAS_PERFORMANCE_NOW=!1,e.Utilities=t}(t||(t={})),function(e){class t{static validateConfigurationOptions(t){return"string"!=typeof(t=t||{}).baseUrl&&(t.baseUrl=""),"boolean"!=typeof t.isBuild&&(t.isBuild=!1),"object"!=typeof t.paths&&(t.paths={}),"object"!=typeof t.config&&(t.config={}),void 0===t.catchError&&(t.catchError=!1),"string"!=typeof t.urlArgs&&(t.urlArgs=""),"function"!=typeof t.onError&&(t.onError=function(e){return"load"===e.errorCode?(console.error('Loading "'+e.moduleId+'" failed'),console.error("Detail: ",e.detail),e.detail&&e.detail.stack&&console.error(e.detail.stack),console.error("Here are the modules that depend on it:"),void console.error(e.neededBy)):"factory"===e.errorCode?(console.error('The factory method of "'+e.moduleId+'" has thrown an exception'),console.error(e.detail),void(e.detail&&e.detail.stack&&console.error(e.detail.stack))):void 0}),"object"==typeof t.ignoreDuplicateModules&&Array.isArray(t.ignoreDuplicateModules)||(t.ignoreDuplicateModules=[]),t.baseUrl.length>0&&(e.Utilities.endsWith(t.baseUrl,"/")||(t.baseUrl+="/")),"string"!=typeof t.cspNonce&&(t.cspNonce=""),Array.isArray(t.nodeModules)||(t.nodeModules=[]),t}static mergeConfigurationOptions(i=null,r=null){let o=e.Utilities.recursiveClone(r||{});return e.Utilities.forEachProperty(i,(t,i)=>{"ignoreDuplicateModules"===t&&void 0!==o.ignoreDuplicateModules?o.ignoreDuplicateModules=o.ignoreDuplicateModules.concat(i):"paths"===t&&void 0!==o.paths?e.Utilities.forEachProperty(i,(e,t)=>o.paths[e]=t):"config"===t&&void 0!==o.config?e.Utilities.forEachProperty(i,(e,t)=>o.config[e]=t):o[t]=e.Utilities.recursiveClone(i)}),t.validateConfigurationOptions(o)}}e.ConfigurationOptionsUtil=t;class i{constructor(e,i){this._env=e,this.options=t.mergeConfigurationOptions(i),this._createIgnoreDuplicateModulesMap(),this._createSortedPathsRules()}_createIgnoreDuplicateModulesMap(){this.ignoreDuplicateModulesMap={};for(let e=0;e<this.options.ignoreDuplicateModules.length;e++)this.ignoreDuplicateModulesMap[this.options.ignoreDuplicateModules[e]]=!0}_createSortedPathsRules(){this.sortedPathsRules=[],e.Utilities.forEachProperty(this.options.paths,(e,t)=>{Array.isArray(t)?this.sortedPathsRules.push({from:e,to:t}):this.sortedPathsRules.push({from:e,to:[t]})}),this.sortedPathsRules.sort((e,t)=>t.from.length-e.from.length)}cloneAndMerge(e){return new i(this._env,t.mergeConfigurationOptions(e,this.options))}getOptionsLiteral(){return this.options}ihjslyPaths(t){if(t.endsWith(".html"))return[t];if(t.endsWith("__temp"))return[t.substring(0,t.length-6)];let i;for(let r=0,o=this.sortedPathsRules.length;r<o;r++)if(i=this.sortedPathsRules[r],e.Utilities.startsWith(t,i.from)){let e=[];for(let r=0,o=i.to.length;r<o;r++)e.push(i.to[r]+t.substr(i.from.length));return e}return[t]}_addUrlArgsToUrl(t){return e.Utilities.containsQueryString(t)?t+"&"+this.options.urlArgs:t+"?"+this.options.urlArgs}_addUrlArgsIfNecessaryToUrl(e){return this.options.urlArgs?this._addUrlArgsToUrl(e):e}_addUrlArgsIfNecessaryToUrls(e){if(this.options.urlArgs)for(let t=0,i=e.length;t<i;t++)e[t]=this._addUrlArgsToUrl(e[t]);return e}moduleIdToPaths(t){let i,r=t;if(e.Utilities.endsWith(r,".js")||e.Utilities.isAbsolutePath(r))e.Utilities.endsWith(r,".js")||e.Utilities.containsQueryString(r)||(r+=".js"),i=[r];else for(let t=0,o=(i=this.ihjslyPaths(r)).length;t<o;t++)this.isBuild()&&"empty:"===i[t]||(e.Utilities.isAbsolutePath(i[t])||(i[t]=this.options.baseUrl+i[t]),e.Utilities.endsWith(i[t],".js")||e.Utilities.containsQueryString(i[t])||(i[t]=i[t]+".js"));return this._addUrlArgsIfNecessaryToUrls(i)}requireToUrl(t){let i=t;return e.Utilities.isAbsolutePath(i)||(i=this.ihjslyPaths(i)[0],e.Utilities.isAbsolutePath(i)||(i=this.options.baseUrl+i)),this._addUrlArgsIfNecessaryToUrl(i)}isBuild(){return this.options.isBuild}isDuplicateMessageIgnoredFor(e){return this.ignoreDuplicateModulesMap.hasOwnProperty(e)}getConfigForModule(e){if(this.options.config)return this.options.config[e]}shouldCatchError(){return this.options.catchError}shouldRecordStats(){return this.options.recordStats}onError(e){this.options.onError(e)}}e.Configuration=i}(t||(t={})),function(e){class t{constructor(e){this._env=e,this._scriptLoader=null,this._callbackMap={}}load(e,t,o,n){this._scriptLoader||(this._scriptLoader=this._env.isWebWorker?new r:new i);let s={callback:o,errorback:n};this._callbackMap.hasOwnProperty(t)?this._callbackMap[t].push(s):(this._callbackMap[t]=[s],this._scriptLoader.load(e,t,()=>this.triggerCallback(t),e=>this.triggerErrorback(t,e)))}triggerCallback(e){let t=this._callbackMap[e];delete this._callbackMap[e];for(let e=0;e<t.length;e++)t[e].callback()}triggerErrorback(e,t){let i=this._callbackMap[e];delete this._callbackMap[e];for(let e=0;e<i.length;e++)i[e].errorback(t)}}class i{attachListeners(e,t,i){let r=()=>{e.removeEventListener("load",o),e.removeEventListener("error",n)},o=e=>{r(),t()},n=e=>{r(),i(e)};e.addEventListener("load",o),e.addEventListener("error",n)}load(e,t,i,r){let o=document.createElement("script");o.setAttribute("async","async"),o.setAttribute("type","text/javascript"),this.attachListeners(o,i,r),o.setAttribute("src",t);const{cspNonce:n}=e.getConfig().getOptionsLiteral();n&&o.setAttribute("nonce",n),document.getElementsByTagName("head")[0].appendChild(o)}}class r{load(e,t,i,r){try{importScripts(t),i()}catch(e){r(e)}}}e.createScriptLoader=function(e){return new t(e)}}(t||(t={})),function(e){class t{constructor(e){let t=e.lastIndexOf("/");this.fromModulePath=-1!==t?e.substr(0,t+1):""}static _normalizeModuleId(e){let t,i=e;for(t=/\/\.\//;t.test(i);)i=i.replace(t,"/");for(i=i.replace(/^\.\//g,""),t=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;t.test(i);)i=i.replace(t,"/");return i=i.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,"")}resolveModule(i){let r=i;return e.Utilities.isAbsolutePath(r)||(e.Utilities.startsWith(r,"./")||e.Utilities.startsWith(r,"../"))&&(r=t._normalizeModuleId(this.fromModulePath+r)),(i.startsWith(".")||i.startsWith("/"))&&(r+="__temp"),r}}t.ROOT=new t(""),e.ModuleIdResolver=t;class i{constructor(e,t,i,r,o,n){this.id=e,this.strId=t,this.dependencies=i,this._callback=r,this._errorback=o,this.moduleIdResolver=n,this.exports={},this.exportsPassedIn=!1,this.unresolvedDependenciesCount=this.dependencies.length,this._isComplete=!1}static _safeInvokeFunction(t,i){try{return{returnedValue:t.apply(e.global,i),producedError:null}}catch(e){return{returnedValue:null,producedError:e}}}static _invokeFactory(t,i,r,o){return t.isBuild()&&!e.Utilities.isAnonymousModule(i)?{returnedValue:null,producedError:null}:t.shouldCatchError()?this._safeInvokeFunction(r,o):{returnedValue:r.apply(e.global,o),producedError:null}}complete(t,r,o){this._isComplete=!0;let n=null;if(this._callback)if("function"==typeof this._callback){t.record(21,this.strId);let s=i._invokeFactory(r,this.strId,this._callback,o);n=s.producedError,t.record(22,this.strId),n||void 0===s.returnedValue||this.exportsPassedIn&&!e.Utilities.isEmpty(this.exports)||(this.exports=s.returnedValue)}else this.exports=this._callback;n&&r.onError({errorCode:"factory",moduleId:this.strId,detail:n}),this.dependencies=null,this._callback=null,this._errorback=null,this.moduleIdResolver=null}onDependencyError(e){return!!this._errorback&&(this._errorback(e),!0)}isComplete(){return this._isComplete}}e.Module=i;class r{constructor(){this._nextId=0,this._strModuleIdToIntModuleId=new Map,this._intModuleIdToStrModuleId=[],this.getModuleId("exports"),this.getModuleId("module"),this.getModuleId("require")}getMaxModuleId(){return this._nextId}getModuleId(e){let t=this._strModuleIdToIntModuleId.get(e);return void 0===t&&(t=this._nextId++,this._strModuleIdToIntModuleId.set(e,t),this._intModuleIdToStrModuleId[t]=e),t}getStrModuleId(e){return this._intModuleIdToStrModuleId[e]}}class o{constructor(e){this.id=e}}o.EXPORTS=new o(0),o.MODULE=new o(1),o.REQUIRE=new o(2),e.RegularDependency=o;class n{constructor(e,t,i){this.id=e,this.pluginId=t,this.pluginParam=i}}e.PluginDependency=n;class s{constructor(t,i,o,n,s=0){this._env=t,this._scriptLoader=i,this._loaderAvailableTimestamp=s,this._defineFunc=o,this._requireFunc=n,this._moduleIdProvider=new r,this._config=new e.Configuration(this._env),this._modules2=[],this._knownModules2=[],this._inverseDependencies2=[],this._inversePluginDependencies2=new Map,this._currentAnnonymousDefineCall=null,this._recorder=null,this._buildInfoPath=[],this._buildInfoDefineStack=[],this._buildInfoDependencies=[]}reset(){return new s(this._env,this._scriptLoader,this._defineFunc,this._requireFunc,this._loaderAvailableTimestamp)}getGlobalAMDDefineFunc(){return this._defineFunc}getGlobalAMDRequireFunc(){return this._requireFunc}static _findRelevantLocationInStack(e,t){let i=e=>e.replace(/\\/g,"/"),r=i(e),o=t.split(/\n/);for(let e=0;e<o.length;e++){let t=o[e].match(/(.*):(\d+):(\d+)\)?$/);if(t){let e=t[1],o=t[2],n=t[3],s=Math.max(e.lastIndexOf(" ")+1,e.lastIndexOf("(")+1);if((e=i(e=e.substr(s)))===r){let e={line:parseInt(o,10),col:parseInt(n,10)};return 1===e.line&&(e.col-="(function (require, define, __filename, __dirname) { ".length),e}}}throw new Error("Could not correlate define call site for needle "+e)}getBuildInfo(){if(!this._config.isBuild())return null;let e=[],t=0;for(let i=0,r=this._modules2.length;i<r;i++){let r=this._modules2[i];if(!r)continue;let o=this._buildInfoPath[r.id]||null,n=this._buildInfoDefineStack[r.id]||null,l=this._buildInfoDependencies[r.id];e[t++]={id:r.strId,path:o,defineLocation:o&&n?s._findRelevantLocationInStack(o,n):null,dependencies:l,shim:null,exports:r.exports}}return e}getRecorder(){return this._recorder||(this._config.shouldRecordStats()?this._recorder=new e.LoaderEventRecorder(this._loaderAvailableTimestamp):this._recorder=e.NullLoaderEventRecorder.INSTANCE),this._recorder}getLoaderEvents(){return this.getRecorder().getEvents()}enqueueDefineAnonymousModule(e,t){if(null!==this._currentAnnonymousDefineCall)throw new Error("Can only have one anonymous define call per script file");let i=null;this._config.isBuild()&&(i=new Error("StackLocation").stack),this._currentAnnonymousDefineCall={stack:i,dependencies:e,callback:t}}defineModule(e,r,o,n,s,l=new t(e)){let d=this._moduleIdProvider.getModuleId(e);if(this._modules2[d])return void(this._config.isDuplicateMessageIgnoredFor(e)||console.warn("Duplicate definition of module '"+e+"'"));let u=new i(d,e,this._normalizeDependencies(r,l),o,n,l);this._modules2[d]=u,this._config.isBuild()&&(this._buildInfoDefineStack[d]=s,this._buildInfoDependencies[d]=u.dependencies.map(e=>this._moduleIdProvider.getStrModuleId(e.id))),this._resolve(u)}_normalizeDependency(e,t){if("exports"===e)return o.EXPORTS;if("module"===e)return o.MODULE;if("require"===e)return o.REQUIRE;let i=e.indexOf("!");if(i>=0){let r=t.resolveModule(e.substr(0,i)),o=t.resolveModule(e.substr(i+1)),s=this._moduleIdProvider.getModuleId(r+"!"+o),l=this._moduleIdProvider.getModuleId(r);return new n(s,l,o)}return new o(this._moduleIdProvider.getModuleId(t.resolveModule(e)))}_normalizeDependencies(e,t){let i=[],r=0;for(let o=0,n=e.length;o<n;o++)i[r++]=this._normalizeDependency(e[o],t);return i}_relativeRequire(t,i,r,o){if("string"==typeof i)return this.synchronousRequire(i,t);this.defineModule(e.Utilities.generateAnonymousModule(),i,r,o,null,t)}synchronousRequire(e,i=new t(e)){let r=this._normalizeDependency(e,i),o=this._modules2[r.id];if(!o)throw new Error("Check dependency list! Synchronous require cannot resolve module '"+e+"'. This is the first mention of this module!");if(!o.isComplete())throw new Error("Check dependency list! Synchronous require cannot resolve module '"+e+"'. This module has not been resolved completely yet.");return o.exports}configure(t,i){let r=this._config.shouldRecordStats();this._config=i?new e.Configuration(this._env,t):this._config.cloneAndMerge(t),this._config.shouldRecordStats()&&!r&&(this._recorder=null)}getConfig(){return this._config}_onLoad(e){if(null!==this._currentAnnonymousDefineCall){let t=this._currentAnnonymousDefineCall;this._currentAnnonymousDefineCall=null,this.defineModule(this._moduleIdProvider.getStrModuleId(e),t.dependencies,t.callback,null,t.stack)}}_createLoadError(e,t){return{errorCode:"load",moduleId:this._moduleIdProvider.getStrModuleId(e),neededBy:(this._inverseDependencies2[e]||[]).map(e=>this._moduleIdProvider.getStrModuleId(e)),detail:t}}_onLoadError(e,t){let i=this._createLoadError(e,t),r=[];for(let e=0,t=this._moduleIdProvider.getMaxModuleId();e<t;e++)r[e]=!1;let o=!1,n=[];for(n.push(e),r[e]=!0;n.length>0;){let e=n.shift(),t=this._modules2[e];t&&(o=t.onDependencyError(i)||o);let s=this._inverseDependencies2[e];if(s)for(let e=0,t=s.length;e<t;e++){let t=s[e];r[t]||(n.push(t),r[t]=!0)}}o||this._config.onError(i)}_hasDependencyPath(e,t){let i=this._modules2[e];if(!i)return!1;let r=[];for(let e=0,t=this._moduleIdProvider.getMaxModuleId();e<t;e++)r[e]=!1;let o=[];for(o.push(i),r[e]=!0;o.length>0;){let e=o.shift().dependencies;if(e)for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.id===t)return!0;let s=this._modules2[n.id];s&&!r[n.id]&&(r[n.id]=!0,o.push(s))}}return!1}_findCyclePath(e,t,i){if(e===t||50===i)return[e];let r=this._modules2[e];if(!r)return null;let o=r.dependencies;for(let r=0,n=o.length;r<n;r++){let n=this._findCyclePath(o[r].id,t,i+1);if(null!==n)return n.push(e),n}return null}_createRequire(e){let t=(t,i,r)=>this._relativeRequire(e,t,i,r);return t.toUrl=(t=>this._config.requireToUrl(e.resolveModule(t))),t.getStats=(()=>this.getLoaderEvents()),t}_loadModule(e){if(this._modules2[e]||this._knownModules2[e])return;this._knownModules2[e]=!0;let t=this._moduleIdProvider.getStrModuleId(e);if(this._config.options._modules){let e=this._config.options._modules[t];if(e)return void this.defineModule(t,e[0],e[1],null,null)}let i=this._config.moduleIdToPaths(t),r=-1,o=t=>{if(++r>=i.length)this._onLoadError(e,t);else{let t=i[r],n=this.getRecorder();if(this._config.isBuild()&&"empty:"===t)return this._buildInfoPath[e]=t,this.defineModule(this._moduleIdProvider.getStrModuleId(e),[],null,null,null),void this._onLoad(e);n.record(10,t),this._scriptLoader.load(this,t,()=>{this._config.isBuild()&&(this._buildInfoPath[e]=t),n.record(11,t),this._onLoad(e)},e=>{n.record(12,t),o(e)})}};o(null)}_loadPluginDependency(e,i){if(this._modules2[i.id]||this._knownModules2[i.id])return;this._knownModules2[i.id]=!0;let r=e=>{this.defineModule(this._moduleIdProvider.getStrModuleId(i.id),[],e,null,null)};r.error=(e=>{this._config.onError(this._createLoadError(i.id,e))}),e.load(i.pluginParam,this._createRequire(t.ROOT),r,this._config.getOptionsLiteral())}_resolve(e){let t=e.dependencies;for(let i=0,r=t.length;i<r;i++){let r=t[i];if(r===o.EXPORTS){e.exportsPassedIn=!0,e.unresolvedDependenciesCount--;continue}if(r===o.MODULE){e.unresolvedDependenciesCount--;continue}if(r===o.REQUIRE){e.unresolvedDependenciesCount--;continue}let s=this._modules2[r.id];if(s&&s.isComplete())e.unresolvedDependenciesCount--;else if(this._hasDependencyPath(r.id,e.id)){console.warn("There is a dependency cycle between '"+this._moduleIdProvider.getStrModuleId(r.id)+"' and '"+this._moduleIdProvider.getStrModuleId(e.id)+"'. The cyclic path follows:");let t=this._findCyclePath(r.id,e.id,0);t.reverse(),t.push(r.id),console.warn(t.map(e=>this._moduleIdProvider.getStrModuleId(e)).join(" => \n")),e.unresolvedDependenciesCount--}else if(this._inverseDependencies2[r.id]=this._inverseDependencies2[r.id]||[],this._inverseDependencies2[r.id].push(e.id),r instanceof n){let e=this._modules2[r.pluginId];if(e&&e.isComplete()){this._loadPluginDependency(e.exports,r);continue}let t=this._inversePluginDependencies2.get(r.pluginId);t||(t=[],this._inversePluginDependencies2.set(r.pluginId,t)),t.push(r),this._loadModule(r.pluginId)}else this._loadModule(r.id)}0===e.unresolvedDependenciesCount&&this._onModuleComplete(e)}_onModuleComplete(e){let t=this.getRecorder();if(e.isComplete())return;let i=e.dependencies,r=[];for(let t=0,n=i.length;t<n;t++){let n=i[t];if(n===o.EXPORTS){r[t]=e.exports;continue}if(n===o.MODULE){r[t]={id:e.strId,config:()=>this._config.getConfigForModule(e.strId)};continue}if(n===o.REQUIRE){r[t]=this._createRequire(e.moduleIdResolver);continue}let s=this._modules2[n.id];s?r[t]=s.exports:r[t]=null}e.complete(t,this._config,r);let n=this._inverseDependencies2[e.id];if(this._inverseDependencies2[e.id]=null,n)for(let e=0,t=n.length;e<t;e++){let t=n[e],i=this._modules2[t];i.unresolvedDependenciesCount--,0===i.unresolvedDependenciesCount&&this._onModuleComplete(i)}let s=this._inversePluginDependencies2.get(e.id);if(s){this._inversePluginDependencies2.delete(e.id);for(let t=0,i=s.length;t<i;t++)this._loadPluginDependency(e.exports,s[t])}}}e.ModuleManager=s}(t||(t={})),function(e){const t=new e.Environment;let i=null;const r=function(e,t,r){"string"!=typeof e&&(r=t,t=e,e=null),"object"==typeof t&&Array.isArray(t)||(r=t,t=null),t||(t=["require","exports","module"]),e?i.defineModule(e,t,r,null,null):i.enqueueDefineAnonymousModule(t,r)};r.amd={jQuery:!0};const o=function(e,t=!1){i.configure(e,t)},n=function(){if(1===arguments.length){if(arguments[0]instanceof Object&&!Array.isArray(arguments[0]))return void o(arguments[0]);if("string"==typeof arguments[0])return i.synchronousRequire(arguments[0])}if(2!==arguments.length&&3!==arguments.length||!Array.isArray(arguments[0]))throw new Error("Unrecognized require call");i.defineModule(e.Utilities.generateAnonymousModule(),arguments[0],arguments[1],arguments[2],null)};function s(){if(void 0!==e.global.require||"undefined"!=typeof require){const t=e.global.require||require;if("function"==typeof t&&"function"==typeof t.resolve){const r=function(e){i.getRecorder().record(33,e);try{return t(e)}finally{i.getRecorder().record(34,e)}};e.global.nodeRequire=r,n.nodeRequire=r,n.__$__nodeRequire=r}}e.global.require=n,e.global.define=r}n.config=o,n.getConfig=function(){return i.getConfig().getOptionsLiteral()},n.reset=function(){i=i.reset()},n.getBuildInfo=function(){return i.getBuildInfo()},n.getStats=function(){return i.getLoaderEvents()},n.define=function(){return r.apply(null,arguments)},e.init=s,"function"==typeof e.global.define&&e.global.define.amd||(i=new e.ModuleManager(t,e.createScriptLoader(t),r,n,e.Utilities.getHighPerformanceTimestamp()),void 0!==e.global.require&&"function"!=typeof e.global.require&&n.config(e.global.require),function(){return r.apply(null,arguments)}.amd=r.amd,"undefined"==typeof doNotInitLoader&&s())}(t||(t={}))}).call(window); require.config({_modules:{'ihjs/app': [[],()=>window[require.getConfig()._ihjsObjName]],'ihjs/components': [["ihjs/app","ihjs/view-manager/utils","ihjs/template/load-text","ihjs/template/parser","ihjs/models/model"],(t,{types:e,getViewType:a},{getTemplate:s},{parseTemplate:n},l)=>{if(!window.customElements)throw new Error("customElements are not supported! Please update your browser...");const o=(t,e)=>{let a=class extends(e.default||e){constructor(){super(t),this.model&&(!this.model||this.model instanceof l)||(this.model=new l({model:this.model}).bind(this,this))}};(t.observedAttributes&&t.observedAttributes.length||a.observedAttributes&&a.observedAttributes.length)&&(a.observedAttributes||Object.defineProperty(a,"observedAttributes",{get:()=>t.observedAttributes}),a.prototype._connectedCallback=a.prototype.connectedCallback,a.prototype.connectedCallback=function(...t){a.prototype._connectedCallback&&a.prototype._connectedCallback.call(this,...t),this._rendered=!0},a.prototype._attributeChangedCallback=a.prototype.attributeChangedCallback,a.prototype.attributeChangedCallback=function(t,e,s){if(a.prototype._attributeChangedCallback&&a.prototype._attributeChangedCallback.call(this,t,e,s),!this._rendered)return;let n=("set-"+t).toCamelCase();a.prototype[n]&&"function"==typeof a.prototype[n]&&a.prototype[n](s,e)}),window.customElements.define(t.tag,a,t.options)},r=(a,s,n)=>new Promise((l,o)=>{let r=class extends HTMLElement{constructor(){if(super(),this._rendered=!1,n===e.template){for(let t of this.getAttributeNames())this[t.toCamelCase()]=this.attributes[t].value;this.template=Object.assign(this||{},a),this.__noDataset=!0,t.render(s,this,this).then(()=>{this._rendered=!0,l()}).catch(t=>o(t))}else if(n===e.class){let e={innerHTML:this.innerHTML,innerText:this.innerText};for(let t of this.getAttributeNames())e[t.toCamelCase()]=this.attributes[t].value;let n=new s(a);n.element=this,this._instance=n,e.__noDataset=!0,t.render(n,this,e).then(()=>{this._rendered=!0,l()}).catch(t=>o(t))}}attributeChangedCallback(t,e,a){let s=this._instance||this;if(s.attributeChangedCallback&&r.prototype.attributeChangedCallback!==s.attributeChangedCallback&&s.attributeChangedCallback(...arguments),!this._rendered)return;let n=("set-"+t).toCamelCase();s[n]&&"function"==typeof s[n]&&s[n](a,e)}connectedCallback(){let t=this._instance||this;t.connectedCallback&&r.prototype.connectedCallback!==t.connectedCallback&&t.connectedCallback(...arguments)}disconnectedCallback(){let t=this._instance||this;t.disconnectedCallback&&r.prototype.disconnectedCallback!==t.disconnectedCallback&&t.disconnectedCallback(...arguments)}adoptedCallback(){let t=this._instance||this;t.adoptedCallback&&r.prototype.adoptedCallback!==t.adoptedCallback&&t.disconnectedCallback(...arguments)}},i=s.observedAttributes||a.observedAttributes;i&&i.length&&Object.defineProperty(r,"observedAttributes",{get:()=>i});try{window.customElements.define(a.tag,r,a.options)}catch(t){o(t)}}),i=(...t)=>new Promise((s,n)=>{let l={};for(let e of t)l[e.src]=e;require(Object.keys(l),(...l)=>{const i=[],c=[];for(let s=0,d=l.length;s<d;s++){let d=t[s],b=l[s];if(b.prototype instanceof HTMLElement||b.default&&b.default.prototype instanceof HTMLElement){try{o(d,b)}catch(t){return n(t)}i.push(d);continue}let h=a(b,d.src);h!==e.template&&h!==e.class||(c.push(r(d,b,h)),i.push(d))}return i.length?c.length?Promise.all(c).then(()=>s(i)).catch(t=>n(t)):s(i):n("Couldn't find components to register.")})}),c=[];return{addElement:t=>{const a=s(void 0,t),l=a.data.observedAttributes?JSON.parse(a.data.observedAttributes.replace(new RegExp("'","g"),'"')):null;if(a.data.tag&&!a.data.src){let t=(t,e)=>n(a.html,t,e);t._isTemplate=!0,c.push(r({tag:a.data.tag,observedAttributes:l},t,e.template))}else t.dataset.tag&&t.dataset.src&&c.push(i({tag:a.data.tag,src:a.data.src,observedAttributes:l}))},resolveElements:()=>new Promise(t=>c.length?Promise.all(c).then(t()).catch(t=>{throw t}):t()),customElementsDefine:i}}],'ihjs/extensions/apply': [["ihjs/app","ihjs/models/test-proto"],(e,t)=>{let o,s=(e,o,s=!1)=>{e="string"==typeof e?window[e]:e,t(e,[o]),e.prototype[o]="NodeList"===e||"HTMLCollection"===e||s?function(...e){for(let t of this)t[o](...e);return this}:HTMLElement.prototype[o]},n=(e,t,o=!1)=>{for(let n of t)s(e,n,o)};return{loadExtensions(e){let t=[];for(let[o,s]of Object.entries(e))t.push(...s.map(e=>"ihjs/extensions/"+o+"/"+e));return new Promise(s=>require(t,()=>{o=Object.assign(o||{},e),s()}))},applyExtensions:n,applyAllExtensions:(e,t,s=!1)=>{n(e,o[t],s)},applyExtensionsExcept:(e,t,s,i=!1)=>{n(e,o[t].filter(e=>!s.includes(e)),i)}}}],'ihjs/extensions/HTMLElement/addClass': [["ihjs/models/test-proto"],s=>{s(HTMLElement,["addClass"]),HTMLElement.prototype.addClass=function(s){return this.classList?this.classList.add(s):this.className+=` ${s}`,this}}],'ihjs/extensions/HTMLElement/appendElement': [["ihjs/models/test-proto"],e=>{e(HTMLElement,["appendElement"]),HTMLElement.prototype.appendElement=function(e){return this.appendChild(e),this}}],'ihjs/extensions/HTMLElement/appendElementTo': [["ihjs/models/test-proto"],e=>{e(HTMLElement,["appendElementTo"]),HTMLElement.prototype.appendElementTo=function(e){return e.append(this),this}}],'ihjs/extensions/HTMLElement/attr': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["attr"]),HTMLElement.prototype.attr=function(t,e,i){return void 0===e?this.getAttribute(t):(!1===i?this.removeAttribute(t):this.setAttribute(t,e),this)}}],'ihjs/extensions/HTMLElement/css': [["ihjs/models/test-proto","ihjs/extensions/String/toCamelCase"],s=>{s(HTMLElement,["css","_styles"]),HTMLElement.prototype.css=function(s,t){if(!this._styles){this._styles={};const s=window.getComputedStyle(this);for(let t in s)if(s.hasOwnProperty(t)){if(!isNaN(t))continue;this._styles[t]=s[t]}}if(void 0!==t)return this._styles[s]=t,this.style[s]=t,this;const e=this._styles[s];return void 0===e?this._styles[s.toCamelCase()]:e}}],'ihjs/extensions/HTMLElement/dataAttr': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["dataAttr","_data"]),HTMLElement.prototype.dataAttr=function(t,a){return this._data||(this._data=Object.assign({},this.dataset)),void 0!==a?(this._data[t]=a,this):this._data[t]}}],'ihjs/extensions/HTMLElement/find': [["ihjs/models/test-proto","ihjs/extensions/String/createElement"],e=>{e(HTMLElement,["find"]),HTMLElement.prototype.find=function(e){let t=this.querySelector(e);return t?(t.length=1,t):((t="dummy".createElement()).length=0,t)}}],'ihjs/extensions/HTMLElement/findAll': [["ihjs/models/test-proto"],e=>{e(HTMLElement,["findAll"]),HTMLElement.prototype.findAll=function(e){return this.querySelectorAll(e)}}],'ihjs/extensions/HTMLElement/forEachChild': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["forEachChild"]),HTMLElement.prototype.forEachChild=function(t=(()=>{}),e=!1){e&&t(this);for(let e=0,h=this.children.length;e<h;e++){let h=this.children[e];if(!h)return this;h.children.length?h.forEachChild(t,!0):t(h)}return this}}],'ihjs/extensions/HTMLElement/hasClass': [["ihjs/models/test-proto"],s=>{s(HTMLElement,["hasClass"]),HTMLElement.prototype.hasClass=function(s){return this.classList?this.classList.contains(s):new RegExp(`(^| )${s}( |$)`,"gi").test(this.className)}}],'ihjs/extensions/HTMLElement/hideElement': [["ihjs/models/test-proto","ihjs/extensions/HTMLElement/css"],e=>{e(HTMLElement,["hideElement"]),HTMLElement.prototype.hideElement=function(){return this.css("display","none"),this}}],'ihjs/extensions/HTMLElement/html': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["html"]),HTMLElement.prototype.html=function(t){return void 0===t?this.innerHTML:(this.innerHTML=t,this)}}],'ihjs/extensions/HTMLElement/off': [["ihjs/models/test-proto"],e=>{e(HTMLElement,["off"]),HTMLElement.prototype.off=function(e,t){for(let o of e.split(" "))this.removeEventListener(o,t);return this}}],'ihjs/extensions/HTMLElement/on': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["on"]),HTMLElement.prototype.on=function(t,e){for(let n of t.split(" "))this.addEventListener(n,e);return this}}],'ihjs/extensions/HTMLElement/overflownX': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["overflownX"]),HTMLElement.prototype.overflownX=function(){return this.scrollWidth>this.clientWidth}}],'ihjs/extensions/HTMLElement/overflownY': [["ihjs/models/test-proto"],e=>{e(HTMLElement,["overflownY"]),HTMLElement.prototype.overflownY=function(){return this.scrollHeight>this.clientHeight}}],'ihjs/extensions/HTMLElement/removeAttr': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["removeAttr"]),HTMLElement.prototype.removeAttr=function(t){return this.removeAttribute(t),this}}],'ihjs/extensions/HTMLElement/removeClass': [["ihjs/models/test-proto"],s=>{s(HTMLElement,["removeClass"]),HTMLElement.prototype.removeClass=function(s){return this.classList?this.classList.remove(s):this.className=this.className.replace(new RegExp(`(^|\\b)${s.split(" ").join("|")}(\\b|$)`,"gi")," "),this}}],'ihjs/extensions/HTMLElement/setFocus': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["setFocus"]),HTMLElement.prototype.setFocus=function(){return this.focus(),this}}],'ihjs/extensions/HTMLElement/showElement': [["ihjs/models/test-proto","ihjs/extensions/HTMLElement/css"],e=>{e(HTMLElement,["showElement"]),HTMLElement.prototype.showElement=function(e){return void 0===e||e?(this.css("display",""),this):this.hideElement()}}],'ihjs/extensions/HTMLElement/toggleClass': [["ihjs/models/test-proto"],s=>{s(HTMLElement,["toggleClass"]),HTMLElement.prototype.toggleClass=function(s,t){return void 0!==t?(t?this.addClass(s):this.removeClass(s),this):(this.hasClass(s)?this.removeClass(s):this.addClass(s),this)}}],'ihjs/extensions/HTMLElement/trigger': [["ihjs/models/test-proto"],t=>{t(HTMLElement,["trigger"]),HTMLElement.prototype.trigger=function(t){for(let e of t.split(" "))this.dispatchEvent(new Event(e));return this}}],'ihjs/extensions/HTMLElement/visible': [["ihjs/models/test-proto","ihjs/extensions/HTMLElement/css"],i=>{i(HTMLElement,["visible"]),HTMLElement.prototype.visible=function(i){return void 0===i||i?(this.css("visibility","visible"),this):this.css("visibility","hidden")}}],'ihjs/extensions/String/createElement': [["ihjs/template/html","ihjs/models/test-proto"],(t,e)=>{e(String,["createElement"]),String.prototype.createElement=function(e,n){return t.tagToElement(this,e,n)}}],'ihjs/extensions/String/dom': [["ihjs/template/html","ihjs/models/test-proto"],(t,e)=>{e(String,["dom"]),String.prototype.dom=function(){return t.strToElement(this)}}],'ihjs/extensions/String/hashCode': [["ihjs/models/test-proto"],t=>{t(String,["hashCode"]),String.prototype.hashCode=function(){let t=0;for(let e=0,o=this.length;e<o;e++){t=(t<<5)-t+this.charCodeAt(e),t&=t}return t}}],'ihjs/extensions/String/html': [["ihjs/models/test-proto"],t=>{t(String,["html"]),String.html=((t,...i)=>String.raw(t,...i))}],'ihjs/extensions/String/toCamelCase': [["ihjs/models/test-proto"],e=>{e(String,["toCamelCase"]),String.prototype.toCamelCase=function(){return this.replace(/-([a-z,0-9])/g,e=>e[1].toUpperCase())}}],'ihjs/main': [["ihjs/extensions/apply"],({loadExtensions:e,applyExtensions:t,applyExtensionsExcept:n})=>{e({HTMLElement:["addClass","appendElement","appendElementTo","attr","css","dataAttr","find","findAll","forEachChild","hasClass","hideElement","html","off","on","overflownX","overflownY","removeAttr","removeClass","setFocus","showElement","toggleClass","trigger","visible"],String:["hashCode","html","dom","toCamelCase","createElement"]}).then(()=>{n("NodeList","HTMLElement",["find","findAll"],!0),t("Document",["on","off","trigger","find","findAll"]),t("Window",["on","off","trigger"]),require(["ihjs/app","ihjs/view-manager/reveal","ihjs/template/parser"],(e,{reveal:t})=>{e.import=(e=>new Promise(t=>require([e],e=>t(e)))),e.fetch=(async(e,t)=>await(await fetch(e,t)).json()),e.render=(async(e,n,a)=>await t({view:e,elementOrId:n,params:a})),e.parseQueryString=(e=>{let t=e.slice(e.indexOf("?")+1),n=t.match(/[\w\d%\-!.~'()\*]+=[\w\d%\-!.~'()\*]+/g);return n?n.map(e=>e.split("=").map(decodeURIComponent)).reduce((e,[t,n])=>Object.assign(e,{[t]:n}),{}):t}),e.queryString=e.parseQueryString(document.location.search);const n=()=>{let t;return(t=e.config.containerId?document.getElementById(e.config.containerId):document.getElementById(e.config.defaultElementId))||(t=document.body),t},a=document.getElementsByTagName("template");let i,o;e.config.__templates=new Map,(async()=>{for(let t of a)e.config.__templates.set(t.id,{html:t.html(),data:t.dataset}),t.dataset.route&&(i||(i=await e.import("ihjs/spa/document")),await i.addView(t)),t.dataset.tag&&(o||(o=await e.import("ihjs/components")),o.addElement(t));o&&await o.resolveElements()})().then(()=>{if(i)i.resolveViews(n());else if(e.config.module)require([e.config.module],t=>{"function"==typeof(t=e.default||t)&&t()});else{let t;if(e.config.view)t=n();else{let i,o=!1;for(let s=a.length-1;s>=0;s--)if(!((i=a[s]).id||i.dataset.route||i.dataset.tag)){i.id=e.config.name,e.config.view="template!"+e.config.name,o=!0,t=n();break}}if(e.config.view)return e.render(e.config.view,t,Object.assign({},e.queryString))}})})})}],'ihjs/models/model': [["ihjs/extensions/apply"],({applyExtensionsExcept:applyExtensionsExcept})=>(class{constructor({model:t,oncreate:e=(()=>{})}={}){this._model=t,this._instance=void 0,this._names=[],this._oncreate=e,this.HTMLModelArray=class extends Array{},applyExtensionsExcept(this.HTMLModelArray,"HTMLElement",["find","findAll"],!0)}bind(t,e,s,n){return this._instance=e||Object.assign({},this),this._eventContext=s,this._defaultContext=n||{},this._model?t.forEachChild(t=>this._forEachProgrammatic(t)):t.forEachChild(t=>this._forEachDeclarative(t)),this}each(t){for(let e of this._names)t(this[e],e)}_forEachDeclarative(t){this._assignProps(t.id||t.getAttribute("name"),t)}_forEachProgrammatic(t){const e=this._model;for(let s in e){if(!e.hasOwnProperty(s))continue;const n=e[s];"string"==typeof n?n!==t.id&&n!==t.getAttribute("name")||this._assignProps(s,t):n(t)&&this._assignProps(s,t);for(let e of t.getAttributeNames())e.startsWith("on")&&this._assignEvents(t)}}_assignEvents(t){let e=[];for(let s=0,n=t.attributes.length;s<n;s++){let n=t.attributes[s];n.name.startsWith("on")&&e.push(n)}let s=e.length;if(s)for(let n=0;n<s;n++){let s=e[n],i=s.name;if(!i.startsWith("on"))continue;let a=s.value;""===a&&(a=t.dataAttr(i));let r=this._instance[a.toCamelCase()];"function"!=typeof r?a.startsWith("javascript:")||-1===a.indexOf("=>")||this._assignEvent(t,i,a):(""!==s.value&&(t.attr(i,""),t.dataAttr(i,a)),this._assignEvent(t,i,r))}}_addEventListener(t,e,s){if(t.__modelEvents){let s=t.__modelEvents[e];s&&(t.off(e,s),delete t.__modelEvents[e])}else t.__modelEvents={};t.on(e,s),t.__modelEvents[e]=s}_assignEvent(element,attr,val){let eventName=attr.replace("on","").toLowerCase(),inst=this._eventContext||this._instance;"function"==typeof val?this._addEventListener(element,eventName,(...t)=>val.apply(inst,t)):this._addEventListener(element,eventName,(...args)=>(function(){return eval(val).apply(this,args)}).apply(inst))}_assignValue(t,e,s){"SELECT"===t||"INPUT"===t?"INPUT"===t&&"checkbox"===e.type?e.checked=s:e.value=s:(e.html(s),"A"===t&&(e.href=s))}_getValue(t,e){return"SELECT"===t?e.options[e.selectedIndex]:e}_assignProps(t,e){if(this._assignEvents(e),!t)return!1;-1!==t.indexOf("-")&&(t=t.toCamelCase());const s=e.nodeName,n=this;if(this._names.includes(t)){let s=this[t];Array.isArray(s)?s.push(e):s=new this.HTMLModelArray(s,e),Object.defineProperty(this,t,{get:()=>s,configurable:!0})}else Object.defineProperty(this,t,{get:()=>n._getValue(s,e),set:t=>n._assignValue(s,e,t),configurable:!0}),this._names.push(t);this._oncreate(e);const i=this._defaultContext[t];return void 0===i||(this._assignValue(s,e,i),!0)}})],'ihjs/models/test-proto': [[],()=>(r,e,o=!0)=>{for(let i of e)if(void 0!==r.prototype[i]){if(o)throw new Error(`Error: Name collision - object ${r} already have defined "${i}" !`);return!1}return!0}],'cors-template': [["ihjs/template/parser","ihjs/template/import","ihjs/template/tags"],(e,t,s)=>({load(a,p,r){fetch(p.toUrl(a),{mode:"cors"}).then(e=>e.text()).then(p=>t.parseImportsAsync(p).then(()=>r(()=>(t,p)=>e.parseTemplate(s.parse(text),t,p,a))))}})],'cors-text': [[],()=>({load(e,t,o){fetch(t.toUrl(e),{mode:"cors"}).then(e=>e.text()).then(e=>o(e))}})],'template-functions': [["ihjs/template/load-text","ihjs/template/import","ihjs/template/parser"],({loadText:e},t,a)=>({load(p,s,o){e(p,s).then(e=>t.parseImportsAsync(e).then(()=>o(()=>a.parseComposite(e))))}})],'template': [["ihjs/template/load-text","ihjs/template/import","ihjs/template/parser"],({loadText:e},t,a)=>({load(p,s,l){e(p,s).then(e=>{t.parseImportsAsync(e).then(()=>{const t=(t,s)=>a.parseTemplate(e,t,s,p);t._raw=e,l(()=>t)})})}})],'text': [[],()=>({load(t,e,o){let l=require.getConfig();if(l._modules){let e=l._modules["text!"+t];if(void 0!==e)return void o(e)}fetch(e.toUrl(t)).then(e=>(200!==e.status&&console.error(`Couldn't load text module ${t} at location ${e.url}\nFailed with status ${e.status+" ("+e.statusText})`),e.text())).then(t=>o(t))}})],'ihjs/pubsub': [[],()=>{const e={};return{subscribe(n,r){const t=n=>{let t=e[n];return t||(t=e[n]=[]),e[n].push(r)-1};if(n instanceof Array){let e=[];for(let r of n)e.push({name:r,index:t(r)});return e}return t(n)},publish(n,...r){const t=n=>{const t=e[n];t&&t.forEach(e=>e.apply(this,r))};if(n instanceof Array)for(let e of n)t(e);else t(n)},unsubscribe(n,r){let t=!1;r instanceof Array==!1&&(r=[{name:n,index:r}]);for(let n of r){let r=e[n.name];r&&(r.splice(n.index,1),t||(t=!0))}return t}}}],'ihjs/spa/document': [["ihjs/spa/router","ihjs/spa/view-manager","ihjs/template/load-text","ihjs/template/parser","ihjs/template/import","ihjs/app","ihjs/view-manager/utils"],(e,t,{getTemplate:r},{parseTemplate:a},{parseImportsAsync:s},i,{isTemplate:o})=>{i.__temp=((e,...t)=>{for(let[e,r]of Object.entries(t))if(r&&-1!==r.toString().indexOf("paramsMap"))return r(),void delete t[e]});const n={};return{addView:async e=>{const t=e.dataset.route;if(!t)return;const p={};let l,m;if(e.dataset.src){let r=await ihjs.import(e.dataset.src);if(!o(void 0,r))return void(n[t]=e.dataset.src);l=r._raw,m=((e,t)=>(e.template={route:p},r(e,t)))}else l=r(void 0,e).html,await s(l),m=((e,t)=>(e.template={route:p},a(l,e,t)));if(m._isTemplate=!0,"error"===t||"404"===t||"unknown"===t)return void(n["/error"]={view:m});p.view=m;const d={};Function("return "+i.config.name+".__temp`"+l+"`;").call(d),d.paramsMap&&(p.paramsMap=d.paramsMap),n[t]=p},resolveViews:r=>{delete i.__temp,new e({routes:n,error:e=>{console.error(e),n["/error"]&&e.router.reveal("/error")}}).useViewManager(new t(r.html("").showElement())).start()}}}],'ihjs/spa/router': [[],()=>(class{constructor({navigate:e=(()=>{}),leave:t=(()=>{}),error:a=(()=>{}),hash:i="#",test:s=(e=>/^[ A-Za-z0-9_@()/.-]*$/.test(e)),routes:h}){h=h||(()=>{throw h})(),this._navigate=e,this._leave=t,this._error=a,this._hash=i,"#"===this._hash||"#!"===this._hash||(()=>{throw this._hash})(),this._test=s,h instanceof Array&&(h=h.reduce(function(e,t,a){return e[t]={},e},{})),this._routes={};for(let e in h){let t=h[e];"string"==typeof t&&(t={view:t},h[e]=t),t.id=t.id||e.replace(/\//g,"-").replace("-","").toCamelCase(),this._test(e)||(()=>{throw e})(),this._routes[e]={id:t.id,name:e,view:t.view,paramsMap:t.paramsMap||(e=>0===e.length&&{}),data:t.data},t.router=this,t.path=e,t.params=((a,i=!0)=>{if(this.currentHash===a)return;i&&(this._skipChange=!0);let s=(e.endsWith("/")?"":"/")+a;document.location.replace(this._hash+e+s),setTimeout(()=>{this._manager.updateViewUri(t.id,e+s),this._skipChange=!1},0)})}this._current=void 0,this._manager={updateViewUri:(e,t)=>{},reveal:({id:e,view:t,params:a,uri:i})=>new Promise(e=>e()),leave:(e,t)=>this._manager}}useViewManager(e=(()=>{throw e})()){return this._manager=e,this}start(){this._onChangeEvent(void 0,!0);var e=this;return window.on("hashchange",t=>{this._skipChange?this._skipChange=!1:e._onChangeEvent.call(e,t)}),this}getData(){return Object.keys(this._routes).map(e=>{let t=this._routes[e],a=t.data||{};return a.url=document.location.pathname+this._hash+e,a.id=t.id,a.active=this._current===t,a})}navigate(e){return document.location.hash=this._hash+e,this}navigateToRoute(e){let t=this._routes[e];if(t)return document.location.hash=this._hash+t.name+(t.pieces?t.pieces.join("/"):""),this}reveal(e){return this._onChangeEvent({newHash:this._hash+e}),this}_onChangeEvent(e={newHash:document.location.hash},t=!1){!e.newHash&&e.newURL&&(e.newHash=e.newURL.replace(document.location.origin+document.location.pathname,"")),e.newHash=e.newHash.replace(document.location.search,""),this.currentHash=e.newHash;let a,i,s,h,r,n,o=e.newHash.replace(this._hash,""),u=o.split("/").map(e=>decodeURIComponent(e)),c="";for(h=0,r=u.length;h<r;h++){let e=u[h];c=c.endsWith("/")?c+e:c+"/"+e,((i=this._routes[c])&&!a||i&&a.name.length<i.name.length)&&(a=i,n=h+1)}const l=(e,a)=>{if(e){""==u[u.length-1]&&u.splice(-1,1);let t=u.slice(n);e.pieces=t,s=a?a(t):e.paramsMap(t)}if(void 0===e||!s)return void this._error({router:this,uri:o});let i,h;this._current&&(i=this._current.id,h=this._current.elementId),this._manager.leave(i,h).reveal({id:e.id,view:e.view,params:s,uri:o}).then(a=>{t||this._leave({router:this,route:this._current}),this._current=e,this._current.elementId=a,this._navigate({router:this,route:e,params:s})})};"string"==typeof a.view?require([a.view],e=>{let t;e&&e.paramsMap?t=e.paramsMap:e&&e.default&&e.default.paramsMap&&(t=e.default.paramsMap),l(a,t)}):l(a)}})],'ihjs/spa/view-manager': [["ihjs/view-manager/utils","ihjs/view-manager/reveal"],(e,{reveal:t})=>(class{constructor(e=(()=>{throw e})()){this._container=e,this._views={},this._current}_getId(e,t){return"_view_"+e+"_"+t}leave(e){if(void 0===e)return this;let t=this._views[e];return t?(t.x=window.pageXOffset,t.y=window.pageYOffset,this):this}updateViewUri(e,t){let i=this._views[e],s=t.hashCode(),a=this._getId(e,s);if(!i)return;let n=this._getId(e,i.uriHash);i.uriHash=s,this._container.find("#"+n).attr("id",a)}showView(e){window.scrollTo(e.x,e.y)}async reveal({id:i="",view:s=null,params:a={},uri:n=""}){if(null==s)throw"undefined view";a instanceof Promise&&(a=await a),"object"!=typeof a&&(a={value:a}),await new Promise((r,h)=>{let d=this._views[i],l=n.hashCode(),w=this._getId(i,l);if(this._current&&this._current.hideElement(),d){let t=this._container.find("#"+w);if(t.length)return d.data.type===e.types.template?e.templateRendered(d.data.instance.__params,t,!0):d.data.type!==e.types.class&&d.data.type!==e.types.object||e.moduleRendered(d.data.instance,{params:d.data.instance.__params,element:t},!0),this._current=t.showElement(),this.showView(d,t),r(t.id)}return t({id:i,view:s,params:a,uri:n,elementOrId:w}).then(e=>(this._views[i]=e,this._current=e.element,this._container.appendChild(e.element),this.showView(e.data,e.element),r(e.element.id)))})}})],'ihjs/spa': [["ihjs/spa/router","ihjs/spa/view-manager"],(e,a)=>({Router:e,Manager:a})],'ihjs/template/css': [["ihjs/app"],e=>{const n=[];return{getImported:()=>n,addLink:(e,n,d)=>new Promise((t,o)=>{let a=document.createElement("link");a.async=!0,a.href=e,a.rel="stylesheet",a.onload=(()=>{n&&n(),t(e)}),a.onerror=(()=>{d&&d()||n&&n(),o(e)}),document.head.appendChild(a)}),addContent:e=>{e instanceof Array&&(e=e.join("\n")),document.head.appendChild(`<style type="text/css">\n                    ${e}\n                </style>`.dom())},shouldLoad:()=>!(!1===e.dev&&!1===e.config.loadCssAlways)}}],'ihjs/template/helpers': [["ihjs/template/css"],e=>{const t=e.getImported();return function(){return{forEach:(e,t)=>{if(e.next){let r="";for(let n of e)r=r.concat(t(...n));return r}return(e instanceof Array?e:Object.entries(e||{})).map((e,r)=>t(...e instanceof Array?e:[e],r)).join("")},import:e=>require(e),css:async(...r)=>{if(!e.shouldLoad())return;let n=[],i=[];r.forEach(r=>{t.includes(r)||(r.startsWith("text!")?i.push(r):n.push(e.addLink(r)),t.push(r))}),await Promise.all(n),i.length&&await new Promise(t=>require(i,(...r)=>(e.addContent(r),t())))},if:(e,t,r)=>e?t:r}}}],'ihjs/template/html': [[],()=>{const e=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),t},t=(e,t,n)=>{let r="object"==typeof e?document.createElement(e.toString()):document.createElement(e);return t&&(r.id=t),n&&r.html(n),r};return{tagToElement:t,strToElement:t=>e(t).content.firstChild,strToElements:t=>e(t).content.childNodes,stripHtml:e=>{var n=t("div");return n.innerHTML=e,n.textContent||n.innerText||""}}}],'ihjs/template/import': [["ihjs/app"],app=>{const preloaded=!1,searchImport=".import(",searchImportLen=searchImport.length,parseImportsAsync=text=>new Promise(resolve=>{preloaded&&resolve();let from=0,found=[];for(;from>-1;){let index=text.indexOf(searchImport,from);if(-1===index)break;index+=searchImportLen,from=text.indexOf(")",index),-1!==from&&(found.push(...eval("["+text.substring(index,from)+"]")),"css"===text.substring(index-11,index-8)&&(found=found.map(e=>e.startsWith("text!")?e:"text!"+e)))}found.length?require(found,()=>resolve()):resolve()});return{parseImportsAsync:parseImportsAsync}}],'ihjs/template/load-text': [["ihjs/template/tags"],e=>{const t=(t,a)=>{const n=ihjs.config.__templates&&ihjs.config.__templates.get(t);if(n){setTimeout(()=>ihjs.config.__templates.delete("todo-item"),0);const t="textarea".createElement();return{html:e.parse(t.html(n.html).innerText),data:n.data}}let l=a||document.getElementById(t)||document.getElementsByName(t);if(l[0]&&(l=l[0]),!l||void 0!==l.length&&0===l.length)return;let m="textarea".createElement();return{html:e.parse(m.html(l.html()).innerText),data:l.dataset}};return{getTemplate:t,loadText:(a,n)=>new Promise(l=>{const m=t(a);m?l(m.html):n(["text!"+a],t=>l(e.parse(t)))})}}],'ihjs/template/parser': [["ihjs/template/helpers","ihjs/template/import","ihjs/app"],(t,e,n)=>{n.template=((t,...e)=>(async()=>{for(let t=0,n=e.length;t<n;t++){let n=e[t];if("function"==typeof n){let a=n();n=void 0===a||"function"==typeof a?"":a,e[t]=n}if(n instanceof Promise){let a=await n;"function"==typeof n&&(a=n())instanceof Promise&&(a=await a),n=void 0===a||"function"==typeof a?"":a,e[t]=n}void 0!==n&&"object"!=typeof n||(e[t]="")}return String.raw(t,...e)})()),n.templateImport=((t,...e)=>{const n={};return e.map((e,a)=>{let i=t[a].trim();n[i||a]=e}),n});const a=(e,a,i,o)=>new Function("return "+n.config.name+".template`"+e+"`;").call(((e,n,a)=>((e=e||{}).template=Object.assign(e.template||{},t()),a&&(e.template=Object.assign(e.template,a)),e.template.name=n,e))(a,o,i));return n.parse=(async(t,n,i,o)=>{let r;if("string"==typeof t)r=t;else{let e=(r=t.toString()).indexOf("`",0);if(-1===e)throw new Error("Invalid template");r=r.substring(e+1,r.lastIndexOf("`"))}return await e.parseImportsAsync(r),await a(r,n,i,o)}),{parseTemplate:a,parseComposite:t=>new Function("return "+n.config.name+".templateImport`"+t+"`;").call()}}],'ihjs/template/tags': [["ihjs/app"],i=>{return{parse:i=>-1===i.indexOf("<s")?i:i.split(/<script>/).join("").split(/<\/script>/).join("")}}],'ihjs/view-manager/reveal': [["ihjs/view-manager/utils","ihjs/app","ihjs/template/css"],(e,t,s)=>{const n=s.getImported();return{reveal:({id:a="",view:i=(()=>{throw i})(),params:r={},uri:o="",elementOrId:p=(()=>{throw p})()})=>new Promise(l=>{let c,d;if("string"==typeof i?(c=i,d=[i]):"object"==typeof i&&i.name?(d=[c=i.name],i.inject&&d.push(...i.inject)):d=[],p.dataset&&!r.__noDataset){for(let[e,t]of Object.entries(p.dataset)){if(e=("data-"+e).toCamelCase(),r[e])throw"ambiguous parameter "+e;r[e]=t}delete r.__noDataset}const m=(i,...d)=>{i.default&&i.__esModule&&(i=i.default);let m=e.getViewType(i,c);const h=()=>{const c=o.hashCode(),h="string"==typeof p?"span".createElement(p):p,f={type:m,uriHash:c,x:0,y:0,id:a};a&&(h.dataset.id=a);const u=()=>{const s=s=>{"function"==typeof s||s instanceof Array?(s=t.parse(...s)).then(t=>{"string"==typeof t?h.html(t):h.html("").appendChild(t),f.instance.__params=r,e.moduleRendered(f.instance,{params:r,element:h})}):("string"==typeof s||s instanceof HTMLElement)&&("string"==typeof s?h.html(s):h.html("").appendChild(s),f.instance.__params=r,e.moduleRendered(f.instance,{params:r,element:h}))};if(m===e.types.class||m===e.types.object){let e=f.instance.render({params:r,element:h});return("function"==typeof e||e instanceof Array)&&(e="function"==typeof e?t.parse(e):t.parse(...e)),e instanceof Promise?e.then(e=>(s(e),l({data:f,element:h}))):(s(e),l({data:f,element:h}))}return l({data:f,element:h})};if(m===e.types.string)return f.element=h.html(i),u();if(m===e.types.template){f.instance=i;const t=i(r,{injected:d});return i.__params=r,"string"==typeof t?(h.html(t),e.templateRendered(r,h)):t instanceof HTMLElement?(h.html("").appendChild(t),e.templateRendered(r,h)):t instanceof Promise&&t.then(t=>{"string"==typeof t?h.html(t):h.html("").appendChild(t),e.templateRendered(r,h)}),u()}if(m===e.types.class||m===e.types.object){const t={css:[]};if(m===e.types.class?f.instance=new i({id:a,element:h,options:t},...d):f.instance=i,f.instance._options=t,!s.shouldLoad())return u();if(t.css&&"string"==typeof t.css&&(t.css=[t.css]),t.css&&t.css.length&&(t.css=t.css.filter(e=>!n.includes(e))),!t.css||!t.css.length)return u();{let e=[],a=[];t.css.forEach(t=>{t.startsWith("text!")?a.push(t):e.push(s.addLink(t))}),Promise.all(e).then(()=>{if(!a.length)return u();require(a,(...e)=>(s.addContent(e),u()))}),n.push(...t.css)}}};m===e.types.promise?i.then(t=>{i=t,m=e.getViewType(i,c),h()}):h()};i&&!d.length?m(i):require(d,m)})}}],'ihjs/view-manager/utils': [["ihjs/models/model"],e=>{const t=(e,t)=>e&&-1!==e.indexOf("template!")||t&&(t._isTemplate||-1!==t.toString().indexOf("parseTemplate")),n={template:1,class:2,string:3,promise:4,object:5};return{types:n,getViewType:(e,o)=>{if(e instanceof Promise)return n.promise;let l=typeof e;if("function"===l)return t(o,e)?n.template:n.class;if("string"===l)return n.string;if("object"===l&&e.render)return n.object;throw new Error("unknown view type "+e)},templateRendered:(t,n,o=!1)=>{void 0!==t.model&&(!t.model||t.model instanceof e)||(t.model=new e({model:t.model}).bind(n,t,t,o?null:t.context)),o||t.template.rendered&&t.template.rendered(n),o&&t.template.revealed&&t.template.revealed(n),t.template.shown&&t.template.shown(n)},moduleRendered:(t,n,o=!1)=>{void 0!==t._options.model&&(!t._options.model||t._options instanceof e)||(t.model=new e({model:t._options.model}).bind(n.element,t,t,o?null:t._options.context||t.context)),o||t.rendered&&t.rendered({params:n.params,element:n.element}),o&&t.revealed&&t.revealed({params:n.params,element:n.element}),t.shown&&t.shown({params:n.params,element:n.element})},isTemplate:t}}],'demos/todo-demo/web-components-ts/app/count': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=0;t.setCount=(e=>r=e),t.increase=(()=>r++),t.decrease=(()=>r--)}],'demos/todo-demo/web-components-ts/app/todo-item': [["require","exports","demos/todo-demo/web-components-ts/app/count"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends HTMLElement{constructor(){super();let e=this.getAttribute("data-index"),t=this.innerHTML;this.innerHTML=String.html`
        <div class="ToDoItem" id="item">
            <p class="ToDoItem-Text">${e+". "+t}</p>
            <div class="ToDoItem-Delete" onclick="deleteClick">-</div>
        </div>`}deleteClick(){i.decrease(),this.model.item.parentElement.remove()}}}],'demos/todo-demo/web-components-ts/app/todo': [["require","exports","demos/todo-demo/web-components-ts/app/count","ihjs/components"],function(o,t,e,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(o){d.customElementsDefine({tag:"todo-item",src:"demos/todo-demo/web-components-ts/app/todo-item",observedAttributes:["id","data-index"]},{tag:"todo-item",src:"demos/todo-demo/web-components-ts/app/todo-item",observedAttributes:["id","data-index"]}),o.options.css=["/demos/shared/css/todo.css","/demos/shared/css/todo-item.css"],o.options.model={content:"content",input:"input"},this.context={input:"initial value"}}async render(){let o=0,t=String.html`
            <div class="ToDo">
                <h1 class="ToDo-Header">ihjs To Do demo</h1>
                <div class="ToDo-Container">
                    <div class="ToDo-Content" id="content">`;for(let e of await window.ihjs.fetch("/demos/shared/todo.json"))t+=String.html`
                <todo-item id="${"todo-item-"+o}" data-index="${o+=1}">${e}</todo-item>
            `;return t+=String.html`
                    </div>
                    <input type="text" id="input" />
                    <div id="add" class="ToDo-Add" onclick="createNewToDoItem">+</div>
                </div>
            </div>`,e.setCount(o+1),t}rendered(o){console.log("I haz following components: ");let t=o.element.findAll("todo-item");console.log(t),console.log("Change some attribute value on todo-item element...")}createNewToDoItem(){this.model.content.append(String.html`<todo-item data-index="${e.increase()}">${this.model.input.value}</todo-item>`.dom())}}}],}});!function(){try{Function("() => {};"),window.customElements.get("test")}catch(e){throw"update your browser!"}const defaults={dev:!1,version:"1",urlArgs:void 0,appUrl:"/",libsUrl:null,appModule:null,appElementId:"app",appObjectName:"ihjs",loaderUrl:e=>`${e}loader/loader.js`},scr=document.currentScript||document.querySelector("script[src*=ihjs]")||document.querySelector("script:last-of-type");if(!scr)throw new Error("Couldn't reference script tag. are you sure you've included script reference? ");const dev=null===scr.getAttribute("data-dev")?defaults.dev:eval(scr.getAttribute("data-dev")),version=null===scr.getAttribute("data-version")?defaults.version:scr.getAttribute("data-version"),urlArgs=null===scr.getAttribute("data-url-args")?defaults.urlArgs:scr.getAttribute("data-url-args"),sysUrl=scr.getAttribute("src").replace("ihjs.js",""),viewModule=scr.getAttribute("data-view-module"),containerId=scr.getAttribute("data-app-container-id"),defaultElementId=defaults.appElementId,appObjectName=scr.getAttribute("data-app-object-name")||defaults.appObjectName,settings=eval("("+scr.getAttribute("data-settings")+")")||{},loaderUrl=scr.getAttribute("data-loader-url")||defaults.loaderUrl(sysUrl),loadCssAlways=null===scr.getAttribute("data-load-css-always")||["true","1","yes"].includes(scr.getAttribute("data-load-css-always").toLowerCase());let appUrl=null===scr.getAttribute("data-app-url")?defaults.appUrl:scr.getAttribute("data-app-url");const relative=(e,t)=>{t.startsWith("/")||(t="/"+t);const r=function(){let e="",t=!1;for(let r=arguments.length-1;r>=-1&&!t;r--){let l=r>=0?arguments[r]:"";e=l+"/"+e,t="/"===l[0]}return e=((e,t)=>{let r=[];for(let l=0;l<e.length;l++){let a=e[l];a&&"."!==a&&(".."===a?r.length&&".."!==r[r.length-1]?r.pop():t&&r.push(".."):r.push(a))}return r})(e.split("/"),!t).join("/"),(t?"/":"")+e||"."};e=r(e).substr(1),t=r(t).substr(1);let l=e.split("/").filter(e=>0!==e.length),a=t.split("/").filter(e=>0!==e.length),s=Math.min(l.length,a.length),i=s;for(let e=0;e<s;e++)if(l[e]!==a[e]){i=e;break}let u=[];for(let e=i;e<l.length;e++)u.push("..");return(u=u.concat(a.slice(i))).join("/")};let appModule=null,appModuleAttr=scr.getAttribute("data-app-module");if(null!==appModuleAttr)appModule=appModuleAttr;else{const e=document.getElementsByTagName("script"),t=e.length;if(e[t-1]===scr)appModule=defaults.appModule;else for(let r=t-1;r>=0;r--){let t=e[r];if(t===scr){appModule=defaults.appModule;break}if(""===t.src&&""!==t.innerHTML&&"module"===t.type)break}}appUrl.startsWith("/")||(appUrl="/"+appUrl);let libsUrl=null===scr.getAttribute("data-libs-url")?defaults.libsUrl:scr.getAttribute("data-libs-url");window[appObjectName]={...window[appObjectName]||{},...{dev:dev,version:version,appUrl:appUrl,sysUrl:sysUrl,settings:settings,config:{module:appModule,view:viewModule,containerId:containerId,defaultElementId:defaultElementId,name:appObjectName,loadCssAlways:loadCssAlways},relative:relative}},libsUrl||(libsUrl=sysUrl.substring(0,sysUrl.indexOf("ihjs"))),window[appObjectName].libsUrl=libsUrl;const sysPath=relative(appUrl,sysUrl),libsPath=relative(appUrl,libsUrl),loaderLoaded=()=>void 0!=window.require,config={urlArgs:urlArgs,baseUrl:window[appObjectName].appUrl,_ihjsObjName:appObjectName,paths:{libs:libsPath,ihjs:sysPath,text:sysPath+"/plugins/text",template:sysPath+"/plugins/template","template-functions":sysPath+"/plugins/template-functions","cors-text":sysPath+"/plugins/cors-text","cors-template":sysPath+"/plugins/cors-template"}},loadLoader=(e,t)=>{let r=document.createElement("script");r.async=!0,r.src=e+(urlArgs?"?"+urlArgs:""),r.onload=t,r.onerror=t,document.body.appendChild(r)},mainFunc=()=>{};loaderLoaded()?(require.config(config),require(["ihjs/main"],mainFunc)):loadLoader(loaderUrl,()=>{if(loaderLoaded())return require.config(config),void require(["ihjs/main"],mainFunc);console.warn("Failed to load module loader.")})}();